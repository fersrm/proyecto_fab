<nav class="flex flex-1 flex-col">
  <ul class="flex flex-1 flex-col gap-y-7">
    <li>
      <ul class="-mx-2 space-y-1">
        <li>
          <a href="{% url 'Home' %}" class=" group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/' %}text-white bg-gray-800 {% else %}  text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
            </svg>
            Inicio
          </a>
        </li>
        {% if user.profile.position_FK.permission_code != "RESTRICTED" %}
          <li>
            <a href="{% url 'Register' %}" class=" group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/registro/' %}text-white bg-gray-800 {% else %} text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
              <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
              </svg>
              Registro
            </a>
          </li>
        {% endif %}
        <li>
          <a href="{% url "User" %}" class=" group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/usuarios/' %}text-white bg-gray-800 {% else %}  text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
            </svg>
            Usuarios
          </a>
        </li> 
        <li>
          <a href="{% url "PdfList" %}" class=" group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/documento/lista_pdf/' %}text-white bg-gray-800 {% else %}   text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <svg class="h-6 w-6 shrink-0" fill="currentColor" viewBox="0 0 512 512" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round"d="M64 464l48 0 0 48-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 304l-48 0 0-144-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"/>
            </svg>
            Lista PDF
          </a>
        </li>      

        <div class="space-y-2" x-data="{ openMenu: null }">
          <!-- Proyectos -->
          <div>
            <button 
              @click="openMenu === 'projects' ? openMenu = null : openMenu = 'projects'" 
              :class="openMenu === 'projects' ? 'bg-gray-800 text-white' : 'hover:bg-gray-800 text-gray-400 hover:text-white'"
              class="w-full flex justify-between items-center py-2 rounded-md transition">
              <div class="flex gap-x-3 font-semibold leading-6 text-sm">
                <svg class="h-6 w-6 shrink-0" fill="currentColor" stroke-width="1.5" stroke="currentColor" aria-hidden="true"  viewBox="0 0 384 512">
                  <path d="M64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16l80 0 0-64c0-26.5 21.5-48 48-48s48 21.5 48 48l0 64 80 0c8.8 0 16-7.2 16-16l0-384c0-8.8-7.2-16-16-16L64 48zM0 64C0 28.7 28.7 0 64 0L320 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm88 40c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16l0 48c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-48zM232 88l48 0c8.8 0 16 7.2 16 16l0 48c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-48c0-8.8 7.2-16 16-16zM88 232c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16l0 48c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-48zm144-16l48 0c8.8 0 16 7.2 16 16l0 48c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-48c0-8.8 7.2-16 16-16z"/>
                </svg>
                Proyectos
              </div>
              <svg x-show="openMenu === 'projects'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
              <svg x-show="openMenu !== 'projects'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>

            <ul 
              x-show="openMenu === 'projects'" 
              x-transition:enter="transition ease-out duration-300" 
              x-transition:enter-start="opacity-0 transform scale-y-75" 
              x-transition:enter-end="opacity-100 transform scale-y-100" 
              x-transition:leave="transition ease-in duration-200" 
              x-transition:leave-start="opacity-100 transform scale-y-100" 
              x-transition:leave-end="opacity-0 transform scale-y-75" 
              class="mt-2 space-y-1 pl-4 border-l border-gray-700 origin-top">
              <li>
                <a href="{% url 'ProjectList' %}" class="block {% if request.path == '/proyectos/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">Lista Proyectos</a>
              </li>
              <li>
                <a href="{% url 'OnlyProjectExtensionList' %}" class="block {% if request.path == '/proyectos/extension_proyecto/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">Extensión de Proyectos</a>
              </li>
              <li>
                <a href="{% url 'ActiveProjectList' %}" class="block {% if request.path == '/proyectos/cupos_proyecto/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">Cupos en Proyectos</a>
              </li>
            </ul>
          </div>

          <!-- NNA -->
          <div>
            <button 
              @click="openMenu === 'nna' ? openMenu = null : openMenu = 'nna'" 
              :class="openMenu === 'nna' ? 'bg-gray-800 text-white' : 'hover:bg-gray-800 text-gray-400 hover:text-white'" 
              class="w-full flex justify-between items-center py-2 rounded-md transition">
              <div class="flex gap-x-3 font-semibold leading-6 text-sm">
                <svg class="h-6 w-6 shrink-0" fill="currentColor" stroke-width="1.5" stroke="currentColor" aria-hidden="true"  viewBox="0 0 640 512">
                  <path d="M160 0a64 64 0 1 1 0 128A64 64 0 1 1 160 0zM88 480l0-80-17.8 0c-10.9 0-18.6-10.7-15.2-21.1l31.1-93.4L57.5 323.3c-10.7 14.1-30.8 16.8-44.8 6.2s-16.8-30.7-6.2-44.8L65.4 207c22.4-29.6 57.5-47 94.6-47s72.2 17.4 94.6 47l58.9 77.7c10.7 14.1 7.9 34.2-6.2 44.8s-34.2 7.9-44.8-6.2l-28.6-37.8L265 378.9c3.5 10.4-4.3 21.1-15.2 21.1L232 400l0 80c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-80-16 0 0 80c0 17.7-14.3 32-32 32s-32-14.3-32-32zM480 0a64 64 0 1 1 0 128A64 64 0 1 1 480 0zm-8 384l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-179.5L395.1 321c-9.4 15-29.2 19.4-44.1 10s-19.4-29.2-10-44.1l51.7-82.1c17.6-27.9 48.3-44.9 81.2-44.9l12.3 0c33 0 63.7 16.9 81.2 44.9L619.1 287c9.4 15 4.9 34.7-10 44.1s-34.7 4.9-44.1-10L552 300.5 552 480c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96-16 0z"/>
                </svg>
                NNA
              </div>
              <svg x-show="openMenu === 'nna'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
              <svg x-show="openMenu !== 'nna'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <ul 
              x-show="openMenu === 'nna'" 
              x-transition:enter="transition ease-out duration-300" 
              x-transition:enter-start="opacity-0 transform scale-y-75" 
              x-transition:enter-end="opacity-100 transform scale-y-100" 
              x-transition:leave="transition ease-in duration-200" 
              x-transition:leave-start="opacity-100 transform scale-y-100" 
              x-transition:leave-end="opacity-0 transform scale-y-75" 
              class="mt-2 space-y-1 pl-4 border-l border-gray-700 origin-top">
              <li>
                <a href="{% url 'ReportList' %}" class="block {% if request.path == '/reporte/lista/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">
                  Lista Registro NNA
                </a>
              </li>
              <li>
                <a href="{% url "Charts" %}"  class="block {% if request.path == '/reporte/graficos/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">Gráficos</a>
              </li>
              <li>
                <a href="{% url 'ReportDate' %}" class="block {% if request.path ==  '/reporte/tabla_fechas/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">Lista Fechas</a>
              </li>
              <li>
                <a href="{% url 'ProjectExtensionList' %}" class="block {% if request.path == '/proyectos/extension/' %}text-white{% else %} text-gray-400 hover:text-white{% endif %}">Extensión de NNA</a>
              </li>
            </ul>
          </div>
        </div>
        
        <li>
          <a href="{% url "NotificationList" %}" class=" group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/proyectos/extension/notificaciones/' %}text-white bg-gray-800 {% else %}  text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <svg class="h-6 w-6 shrink-0" fill="currentColor" viewBox="0 0 448 512" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 25.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416l400 0c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4l0-25.4c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112l0 25.4c0 47.9 13.9 94.6 39.7 134.6L72.3 368C98.1 328 112 281.3 112 233.4l0-25.4c0-61.9 50.1-112 112-112zm64 352l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"/>
            </svg>
            Alertas Proyectos
          </a>
        </li>
        <li>
          <a href="{% url "ApplicantsRegionList" %}" class=" group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/solicitantes/lista_region/' %}text-white bg-gray-800 {% else %}  text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <svg class="h-6 w-6 shrink-0" fill="currentColor" viewBox="0 0 576 512" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l448 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm96 64a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm104 0c0-13.3 10.7-24 24-24l224 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-224 0c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24l224 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-224 0c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24l224 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-224 0c-13.3 0-24-10.7-24-24zm-72-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM96 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>
            </svg>
            Solicitantes Proyectos
          </a>
        </li>
      </ul>
    </li>
    <li>
      <div class="text-xs font-semibold leading-6 text-gray-400">Tus Configuraciones</div>
      <ul class="-mx-2 mt-2 space-y-1">
        <li>
          <a href="{% url 'mfa_index' %}" class="group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/accounts/2fa/' %} text-white bg-gray-800 {% else %} text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <span class="flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium {% if request.path == '/accounts/2fa/' %} border-indigo-600 {% else %}   border-gray-700 bg-gray-800 text-gray-400 group-hover:border-indigo-600 group-hover:text-white  {% endif %}">2FA</span>
            <span class="truncate">Autentificación 2fa</span>
          </a>
        </li>
        <li>
          <a href="{% url 'account_change_password' %}" class="group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/accounts/password/change/' %} text-white bg-gray-800 {% else %} text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <span class="flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium {% if request.path == '/accounts/password/change/' %} border-indigo-600 {% else %}   border-gray-700 bg-gray-800 text-gray-400 group-hover:border-indigo-600 group-hover:text-white   {% endif %}">PW</span>
            <span class="truncate">Cambio de Contraseña</span>
          </a>
        </li>
        <li>
          <a href="{% url 'Profile' %}" class="group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold {% if request.path == '/perfil/' %} text-white bg-gray-800 {% else %} text-gray-400 hover:text-white hover:bg-gray-800 {% endif %}">
            <span class="flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium {% if request.path == '/perfil/' %} border-indigo-600 {% else %}   border-gray-700 bg-gray-800 text-gray-400 group-hover:border-indigo-600 group-hover:text-white  {% endif %}">PF</span>
            <span class="truncate">Perfil</span>
          </a>
        </li>
      </ul>
    </li>
    <li class="mt-auto">
      <a href="{% url 'account_logout' %}" class="group -mx-2 flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-gray-400 hover:bg-gray-800 hover:text-white">
        <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
          <path stroke="none" d="M0 0h24v24H0z"/>  <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" />  
          <path d="M7 12h14l-3 -3m0 6l3 -3" />
        </svg>
        Cerrar Sesión
      </a>
    </li>
  </ul>
</nav>